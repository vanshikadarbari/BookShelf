/*for password*/
create extension chkpass;

/*for users*/
create table users
(
	username varchar(20),
	passwords chkpass,
	fname varchar(20),
	lname varchar(20) null,
	emailid varchar(320),
	gender char(1),
	dateofbirth date,
	primary key(username,emailid)
);

/*for books*/
create table books
(
	title varchar(50),
	author varchar(30),
	description varchar(2000),
	isbn decimal(10,0),
	publishdate date,
	avgrating smallint check(avgrating>0 and avgrating<=5) null,
	primary key(isbn)
	
	
);

/*for authors*/

create table authors
(
	aid decimal(10,0),
	fname varchar(20),
	lname varchar(20),
	gender char(1),
	about varchar(1000),
	nationality char(3),
	dateofbirth date,
	dateofdeath date,
	primary key(aid)
);

/*for ratings*/

create table ratings
(
	username varchar(20),
	booktitle varchar(50),
	dateofrate date,
	updatedratedate date,
	rating smallint check(rating>0 and rating<=5) null,
	primary key(username)
);












